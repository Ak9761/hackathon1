async function handleSummarize() {
  const inputText = document.getElementById("text-input").value;
  const language = document.getElementById("language").value; // Get the selected language

  // Check if input text is empty
  if (inputText.trim() === "") {
      alert("Please type a message before sending!");
      return;
  }

  // Append the user's message to the chat
  appendMessage(inputText, "user");

  try {
      // Send request to backend
      const response = await fetch('http://127.0.0.1:5000/summarize', {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
          },
          body: JSON.stringify({
              text: inputText,
              language: language,  // Send language to backend
          }),
      });

      // Handle response
      if (response.ok) {
          const data = await response.json();
          appendMessage(data.summary, "bot");
      } else {
          throw new Error('Failed to fetch response from server');
      }
  } catch (error) {
      console.error('Error during fetch:', error);
      alert('Something went wrong while fetching data. Please try again.');
  }

  // Clear the input field
  document.getElementById("text-input").value = '';
}

// Function to append message to the chat box
function appendMessage(message, sender) {
  const chatBox = document.getElementById("chat-box");

  const messageElement = document.createElement("div");
  messageElement.classList.add("message", sender);
  messageElement.textContent = message;

  chatBox.appendChild(messageElement);

  // Scroll to the bottom of the chat box
  chatBox.scrollTop = chatBox.scrollHeight;
}
